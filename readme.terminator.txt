Внес некоторые изменения в задание:
1. Количество овечек, загонов и длительность для устанавливаются опционально.
2. Овечки изначально размещаются по одной на каждый загон, а только по рендому. Иначе не удается выполнить требование "загоны никогда не должны быть пусты".
3. Поменял местами пункты "одну любую овечку забирают" и "пересаживаем" - опять иначе выполнить требование "загоны никогда не должны быть пусты" не получится.
4. Овечки перемещаются ВО ВСЕ загоны, где количество овечек равно 1. Каждый раз заново выбирается загон с максимальным количеством овечек.

Отчет выводится на той же странице, в реальном времени. Отбор по периоду не делал - и так затянул с выполнением.

Миграцию не делал, поэтому дается дамп БД с введенными начальными значениями.

При выборе минимальных значений длительности дня возможны сбои - сервер не успевает отработать предыдущий запрос, когда приходит следующий.

Из-за нехватки времени есть некоторые недоработки:
1. Не везде код документирован.
2. Обрабатываются не все исключения.
Да и в целом рефакторингом я бы по коду прошелся...